<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <title>paket simplify
</title>
    <link rel="icon" type="image/png" href="./img/logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content="A dependency manager for .NET with support for NuGet packages and git repositories."/>
    <meta name="author" content="Steffen Forkmann, Alexander GroÃŸ"/>

    <script src="https://code.jquery.com/jquery-1.8.0.js"></script>
    <script src="https://code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <link href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet"/>

    <link type="text/css" rel="stylesheet" href="./content/style.css" />
    <script type="text/javascript" src="./content/tips.js"></script>
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="https://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <style type="text/css">
      table.pre td.lines {
        vertical-align: top;
      }
      pre.fssnip code[lang=batchfile],
      pre.fssnip code[lang=msh] {
        display: inline-block;
        white-space: pre-wrap;       /* CSS 3 */
        white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
        white-space: -pre-wrap;      /* Opera 4-6 */
        white-space: -o-pre-wrap;    /* Opera 7 */
        word-wrap: break-word;       /* Internet Explorer 5.5+ */
        word-break: keep-all;
        padding-left: 2em;
        text-indent: -2em;
      }
    </style>
    <script type="text/javascript">
      $(function() {
        $("code[lang='batchfile'], code[lang='msh']").each(function() {
          $(this).html($(this).html().replace(/ &lt;/g, "&nbsp;&lt;"))
        })
      })
    </script>
  </head>
  <body>
    <div class="container">
      <div class="masthead">
        <ul class="nav nav-pills pull-right">
          <li><a href="http://github.com/fsprojects/Paket">github page</a></li>
        </ul>
        <h3 class="muted"><a href="./index.html">Paket</a></h3>
      </div>
      <hr />
      <div class="row">
        <div class="span9" id="main">
          
<h1><a name="paket-simplify" class="anchor" href="#paket-simplify">paket simplify</a></h1>
<p>Simplify declared dependencies by removing transitive dependencies.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="sh">paket simplify [--help] [--interactive]

OPTIONS:

    --interactive, -i     confirm deletion of every transitive dependency
    --silent, -s          suppress console output
    --verbose, -v         print detailed information to the console
    --log-file &lt;path&gt;     print output to a file
    --from-bootstrapper   call coming from the '--run' feature of the bootstrapper
    --help                display this list of options.
</code></pre></td></tr></table>
<p>If you add the <code>--verbose</code> flag Paket will run in verbose mode and show detailed information.</p>
<p>With <code>--log-file [path]</code> you can trace the logged information into a file.</p>
<h2><a name="A-note-on-mode" class="anchor" href="#A-note-on-mode">A note on <code>strict</code> mode</a></h2>
<p><code>paket simplify</code> will also affect
<a href="references-files.html"><code>paket.references</code> files</a>, unless
<a href="dependencies-file.html#Strict-references"><code>strict</code> mode</a> is used.</p>
<p><strong>Important:</strong> <code>paket simplify</code> is a heuristic approach to dependency
simplification. It often works very well, but there are rare cases where
simplify can result in changes of the package resolution.</p>
<h2><a name="Interactive-mode" class="anchor" href="#Interactive-mode">Interactive mode</a></h2>
<p>Sometimes, you may still want to have control over some of the
<a href="faq.html#transitive">transitive dependencies</a>. In this case you can use the
<code>--interactive</code> flag, which will ask you to confirm before deleting a dependency
from a file.</p>
<h2><a name="Notes-and-Warnings" class="anchor" href="#Notes-and-Warnings">Notes and Warnings</a></h2>
<p>It is possible through the use of <code>paket simplify</code> to make unintended changes to
your <a href="lock-file.html"><code>paket.lock</code> file</a> if a
<a href="faq.html#transitive">transitive dependency</a> is removed and a subsequent install
is run. This can occur especially if the version specification that previously
existed for the transitive dependency is different than the version
specification that is automatically generated by Paket based on the primary
dependencies of your project. An example may help illustrate the conditions
where this could occur.</p>
<p>Imagine a <a href="dependencies-file.html"><code>paket.dependencies</code> file</a> with the following
contents:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="paket"><span class="k">source</span> https://nuget.org/api/v2

<span class="k">nuget</span> Foo <span class="n">1.0.0</span>
<span class="k">nuget</span> Bar <span class="n">1.0.0</span>
</code></pre></td></tr></table>
<p>Let us imagine that package <code>Bar</code> has a dependency on package <code>Foo</code> for any
version from <code>1.0</code> through <code>2.0</code>. The <a href="lock-file.html"><code>paket.lock</code> file</a> that
results for this combination is:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="paket"><span class="k">NUGET</span>
  <span class="k">remote</span>: https://nuget.org/api/v2
    Foo (<span class="n">1.0.0</span>)
    Bar (<span class="n">1.0.0</span>)
      Foo (<span class="o">&lt;=</span> <span class="n">2.0.0</span>)
</code></pre></td></tr></table>
<p>In this situation, if <code>paket simplify</code> is run, the Foo dependency will be
removed, resulting in a <a href="dependencies-file.html"><code>paket.dependencies</code></a> of:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="paket"><span class="k">source</span> https://nuget.org/api/v2

<span class="k">nuget</span> Bar <span class="n">1.0.0</span>
</code></pre></td></tr></table>
<p>like we expect. But now, if an install is run, the Foo dependency will be free
to update to the maximum allowed by the <code>Bar</code> dependency, which could have
unforseen consequences if the author of Foo has introduced a breaking change.</p>
<h2><a name="Example" class="anchor" href="#Example">Example</a></h2>
<p>When you install <code>Castle.Windsor</code> package in NuGet to a project, it will
generate a following <code>packages.config</code> file in the project location:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="xml"><span class="prep">&lt;?</span>xml version=<span class="s">"1.0"</span> encoding=<span class="s">"utf-8"</span><span class="prep">?&gt;</span>
<span class="k">&lt;</span><span class="i">packages</span><span class="k">&gt;</span>
  <span class="k">&lt;</span><span class="i">package</span> <span class="o">id</span><span class="k">="Castle.Core"</span> <span class="o">version</span><span class="k">="3.3.1"</span> <span class="o">targetFramework</span><span class="k">="net451"</span> <span class="k">/&gt;</span>
  <span class="k">&lt;</span><span class="i">package</span> <span class="o">id</span><span class="k">="Castle.Windsor"</span> <span class="o">version</span><span class="k">="3.3.0"</span> <span class="o">targetFramework</span><span class="k">="net451"</span> <span class="k">/&gt;</span>
<span class="k">&lt;/</span><span class="i">packages</span><span class="k">&gt;</span>
</code></pre></td></tr></table>
<p>After converting to Paket with
<a href="paket-convert-from-nuget.html"><code>paket convert-from-nuget</code></a>, you should get a
following <a href="dependencies-file.html"><code>paket.dependencies</code> file</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="paket"><span class="k">source</span> https://nuget.org/api/v2

<span class="k">nuget</span> Castle.Core <span class="n">3.3.1</span>
<span class="k">nuget</span> Castle.Windsor <span class="n">3.3.0</span>
</code></pre></td></tr></table>
<p>The NuGet <code>packages.config</code> should be converted to following
<a href="references-files.html"><code>paket.references</code> file</a>:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="text">Castle.Core
Castle.Windsor
</code></pre></td></tr></table>
<p>As you have already probably guessed, the <code>Castle.Windsor</code> package happens to
have a dependency on the <code>Castle.Core</code> package. Paket will by default (without
<a href="dependencies-file.html#Strict-references"><code>strict</code></a> mode) add references to all
required dependencies of a package that you define for a specific project in
<a href="references-files.html"><code>paket.references</code> file</a>. In other words, you still get
the same result if you remove <code>Castle.Core</code> from your
<a href="references-files.html"><code>paket.references</code> file</a>.</p>
<p>This is exactly what happens after executing <code>paket simplify</code> command. After
running it, <a href="dependencies-file.html"><code>paket.dependencies</code></a> will contain:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="paket"><span class="k">source</span> https://nuget.org/api/v2

<span class="k">nuget</span> Castle.Windsor <span class="n">3.3.0</span>
</code></pre></td></tr></table>
<p>And <a href="references-files.html"><code>paket.references</code> file</a> contains:</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="text">Castle.Windsor
</code></pre></td></tr></table>
<p>Unless you are relying heavily on types from <code>Castle.Core</code>, you would not care
about controlling the required version of <code>Castle.Core</code> package. Paket will do
the job.</p>
<p>The simplify command will help you maintain your direct dependencies.</p>


        </div>
        <div class="span3">
          <img src="./img/logo.png" alt="F# Project" style="width:150px;margin:10px" />
          <ul class="nav nav-list" id="menu" style="margin-top: 20px;">
            <li class="nav-header">Paket</li>
            <li><a href="./index.html">Home page</a></li>
            <li><a href="./getting-started.html">Getting started</a></li>
            <li><a href="./convert-from-nuget-tutorial.html">Convert from NuGet</a></li>
            <li><a href="./faq.html">FAQ</a></li>
            <li><a href="./glossary.html">Glossary</a></li>
            <li><a href="./release-notes.html">Release Notes</a></li>
            <li><a href="./testimonials.html">Testimonials</a></li>
            <li><a href="./license.html">License</a></li>

            <li class="nav-header">Download Paket</li>
            <li><a href="http://nuget.org/packages/Paket" target="_blank">From NuGet</a></li>
            <li><a href="https://github.com/fsprojects/Paket/releases/latest" target="_blank">From GitHub</a></li>

            <li class="nav-header">GitHub</li>
            <li><a href="http://github.com/fsprojects/Paket" target="_blank">Source Code on GitHub</a></li>
            <li><a href="http://github.com/fsprojects/Paket/issues" target="_blank">Report an issue</a></li>

            <li class="nav-header">Documentation</li>
            <li><a href="./dependencies-file.html">paket.dependencies</a></li>
            <li><a href="./lock-file.html">paket.lock</a></li>
            <li><a href="./references-files.html">paket.references</a></li>
            <li><a href="./template-files.html">paket.template</a></li>
            <li><a href="./local-file.html">paket.local</a></li>
            <li><a href="./paket-folder.html">.paket folder</a></li>
            <li><a href="./bootstrapper.html">paket.bootstrapper.exe</a></li>
            <li class="divider"></li>
            <li><a href="./resolver.html">Package resolution algorithm</a></li>
            <li><a href="./groups.html">Dependency Groups</a></li>
            <li><a href="./caches.html">Additional Caches</a></li>
            <li><a href="./nuget-dependencies.html">NuGet dependencies</a></li>
            <li><a href="./git-dependencies.html">Git dependencies</a></li>
            <li><a href="./github-dependencies.html">GitHub dependencies</a></li>
            <li><a href="./http-dependencies.html">HTTP dependencies</a></li>
            <li><a href="./analyzers.html">Analyzers</a></li>
            <li class="divider"></li>
            <li><a href="./installation.html">Installation</a></li>
            <li><a href="./paket-and-dotnet-cli.html">Using Paket with dotnet cli</a></li>
            <li><a href="./reference-from-repl.html">Using Paket from F# Interactive</a></li>
            <li><a href="./editor-support.html">Editor support</a></li>
            <li><a href="./shell-completion.html">Shell completion</a></li>
            <li class="divider"></li>
            <li><a href="./reference/index.html">API Reference</a></li>

            <li class="nav-header">Paket commands</li>
            <li><a href="./paket-add.html">paket add</a></li>
            <li><a href="./paket-auto-restore.html">paket auto-restore</a></li>
            <li><a href="./paket-clear-cache.html">paket clear-cache</a></li>
            <li><a href="./paket-config.html">paket config</a></li>
            <li><a href="./paket-convert-from-nuget.html">paket convert-from-nuget</a></li>
            <li><a href="./paket-find-refs.html">paket find-refs</a></li>
            <li><a href="./paket-find-packages.html">paket find-packages</a></li>
            <li><a href="./paket-find-package-versions.html">paket find-package-versions</a></li>
            <li><a href="./paket-generate-load-scripts.html">paket generate-load-scripts</a></li>
            <li><a href="./paket-init.html">paket init</a></li>
            <li><a href="./paket-install.html">paket install</a></li>
            <li><a href="./paket-outdated.html">paket outdated</a></li>
            <li><a href="./paket-pack.html">paket pack</a></li>
            <li><a href="./paket-push.html">paket push</a></li>
            <li><a href="./paket-remove.html">paket remove</a></li>
            <li><a href="./paket-restore.html">paket restore</a></li>
            <li><a href="./paket-simplify.html">paket simplify</a></li>
            <li><a href="./paket-show-groups.html">paket show-groups</a></li>
            <li><a href="./paket-show-installed-packages.html">paket show-installed-packages</a></li>
            <li><a href="./paket-update.html">paket update</a></li>
            <li><a href="./paket-why.html">paket why</a></li>
          </ul>
        </div>
      </div>
    </div>
    <a href="http://github.com/fsprojects/Paket"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"/></a>
  </body>
</html>
